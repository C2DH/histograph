<div class="inner">
  <div>
    <div class='node {{item.type}}'>
      
      <div class='thumbnail' ng-if='item.type == "person"'>
        <div class="thumbnail-wrapper" style='background-image: url({{item.props.thumbnail}})'>
        </div>
      </div>
      <div class='content'>
        <h4>
          <a ng-if='item.type == "person"' ng-href='{{link.href}}' marked="item.props|lookup:'name':language"></a>
          <a ng-if='item.type == "location"' ng-href='{{link.href}}'>{{item.props|lookup:'name':language}}, {{item.props.country}}</a>
          <a ng-if='item.type == "organization"' ng-href='{{link.href}}'>{{item.props|lookup:'name':language}}</a>
        </h4>
        <div class='date' ng-if='item.type == "person"'>{{relatedItem.props.birth_time | datesOfAPerson : relatedItem.props.death_time}}</div>
      </div>
      <div class="actions">
        <a class="action" title="add to bookmark" ng-click="queue()">
          <span class="fa fa-bookmark-o"></span></a>
        
      </div>
      <a class="discard action" title="close" ng-click="close()">
          <span class="fa fa-times-circle"></span></a>
    </div>
  </div>
  <div class="btn-group-wrapper">
    <div class="btn-group">
      <a class="btn btn-line-white" href="{{link.href}}" title="visit" data-action="link">view more</a>
      <button class='btn btn-line-white' ng-click='addFilter()'>filter</button>

      
      <button ng-if='link.removable' class='btn btn-line-white obscure' ng-click='askQuestion("remove-relationship")'>REMOVE</button>

      <button ng-if='!link.removable'  class='btn btn-line-white obscure' ng-click='askQuestion("downvote")'><i class="fa fa-bug"></i></button>
      <button ng-if='!link.removable' class='btn btn-line-white' ng-click='upvote($event)'> <i class="fa fa-check"></i></button>
    </div>
  </div>
  <div class='questions {{question}} obscure {{question?"enabled":""}}'>

    <div ng-if='question=="remove-relationship"' class='question'>
      <p class='text'>Removing the relationship does not delete the selected items, just affects the relationship itself.</p>
      <div class='answers'>
        <div class='btn-group btn-group-dual'>
        <button class='btn btn-line-white btn-primary' ng-click='remove()'>remove!</button>
        <button class='btn btn-line-white obscure' ng-click='cancelQuestion($event)'>back</button>
        </div>
      </div>
    </div>

    <div ng-if='question=="downvote"' class='question'>
      <div class='answers'>
        <div class=''>
          <button class='btn btn-line-white btn-block' ng-click='askQuestion("wrongtype", $event)'>This is not a <strong>{{item.type}}</strong></button>
          <button class='btn btn-line-white btn-block' ng-click='signale($event)'>this is mispelled / a fragment</button>
          <button class='btn btn-line-white btn-block' ng-click='downvote($event)'>this <strong>{{item.type}}</strong> is not mentioned here</button>
          
          <button class='btn btn-line-white obscure btn-block' ng-click='cancelQuestion($event)'>back</button>
        </div>
      </div>
    </div>

      <div ng-if='question=="wrongtype"' class='question'>
        <p class='text'>Are you able to spot the correct <strong>type</strong>?</p>
        <div class='answers'>
          <div class="btn-group btn-block" uib-dropdown dropdown-append-to-body>
            <button id="btn-append-to-body" type="button" class="btn btn-primary btn-block btn-line-white btn-primary" uib-dropdown-toggle>
              {{item.type}} <span class="caret"></span>
            </button>
            <ul class="uib-dropdown-menu tk-proxima-nova" style='z-index:1050' role="menu" aria-labelledby="btn-append-to-body">
              <li role="menuitem"><a ng-click='suggestType("person", $event)'>Person</a></li>
              <li role="menuitem"><a ng-click='suggestType("location", $event)'>location</a></li>
              <li role="menuitem"><a ng-click='suggestType("organization", $event)'>organization</a></li>
              <li role="menuitem"><a ng-click='suggestType("social_group", $event)'>social group</a></li>
            </ul>
          </div>
        </div>
        <div class='answers'>
          
          <button class='btn btn-line-white btn-block' ng-click='askQuestion("downvote", $event)'>back</button>
          
        </div>
      </div>

      <div ng-if='question=="feedback"' class='question'>
        <p class='text'>thank you for your feedback!</p>
        <div class='answers'>
          <button class='btn btn-line-white btn-primary btn-block' ng-click='close()'>close</button>
        </div>
      </div>

  </div>
  <!-- <div class="action-group">

    
     <a class="action filter" ng-click='addFilter()' tooltip="filter your selection" data-action="filter">
      <span class="fa fa-filter"></span></a>
    <a class="action" href="{{href}}" title="visit" data-action="link" tooltip="{{linkto}}">
      <span class="fa fa-link"></span></a>

    <a class="action inspect" ng-click='inspect()' tooltip="analyse and correct" data-action="inspect">
      <span class="fa fa-lightbulb-o"></span></a>

    <a class="action downvote" ng-click='downvote(item)' tooltip="downvote - the entity is not relevant in this context" data-action="downvote">
      <span class="fa fa-thumbs-o-down"></span></a>

    <a class="action downvote" ng-click='upvote(item)' tooltip="upvote - the entity is relevant in this context" data-action="upvote">
      <span class="fa fa-thumbs-o-up"></span></a>
      
  </div> -->
</div>