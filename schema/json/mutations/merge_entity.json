{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://c2dh.uni.lu/histograph/mutations/merge_entity.json",
  "title": "Merge Entity",
  "description": "Merge entity mutation payload",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "slug": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/slug" },
    "type": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/type" },
    "uuid": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/uuid" },
    "name": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/name" },
    "description": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/description" },
    "entity": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/entity" },
    "metadata": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/metadata" },
    "links": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/links" },
    "links_viaf": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/links_viaf" },
    "links_wiki": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/links_wiki" },
    "first_name": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/first_name" },
    "last_name": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/last_name" },
    "lat": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/lat" },
    "lng": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/lng" },
    "country": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/country" },
    "geoname_id": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/geoname_id" },
    "geoname_fcl": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/geoname_fcl" },
    "geoname_country": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/geoname_country" },
    "geocoding_id": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/geocoding_id" },
    "geocoding_fcl": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/geocoding_fcl" },
    "geocoding_country": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/geocoding_country" },
    "creation_date": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/creation_date" },
    "creation_time": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/creation_time" },
    "last_modification_date": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/last_modification_date" },
    "last_modification_time": { "$ref": "http://c2dh.uni.lu/histograph/db/entity.json#/properties/last_modification_time" },

    "resource_uuid": {
      "description": "UUID of the resource this entity is going to be referenced to via :appears_in relationship",
      "type": "string",
      "pattern": "^[^\\s]+$",
      "examples": [
        "whE35HfSR4"
      ]
    },
    "frequency": {
      "description": "How many times entity appears in resource",
      "type": "integer"
    },
    "languages": {
      "description": "ISO 639-1 codes of languages entity appears in the linked resource",
      "type": "array",
      "uniqueItems": true,
      "minItems": 1,
      "items": {
        "type": "string",
        "pattern": "^[a-z]{2}$"
      }
    },
    "services": {
      "description": "Names of services used to extract this entity from resource",
      "type": "array",
      "uniqueItems": true,
      "minItems": 1,
      "items": {
        "type": "string"
      }
    },
    "username": {
      "description": "Username of the user who created this entity",
      "type": "string"
    }
  },
  "required": [
    "resource_uuid",
    "slug",
    "type",
    "uuid",
    "name"
  ]
}